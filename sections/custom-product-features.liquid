{% style %}

  .container {
    display: flex;
    justify-content: center;
    column-gap: 30px;
    text-align: center;
  }

  /* Center-align columns */
  .feature {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }

  /* Circular image */
  .feature-image img {
    border-radius: 50%;
    width: 100px; /* Adjust as needed */
    height: 100px; /* Adjust as needed */
  }

  button.learn-more-button {
    background: transparent;
    border: unset;
    text-transform: uppercase;
    padding: 0 0 2px;
    border-bottom-style: solid;
    border-bottom-width: 1px;
    width: fit-content;
  }

  /* Popup modal styles */
  /* You need to implement the modal functionality separately */
{% endstyle %}

{%- unless section.settings.title == blank -%}
  <div class="title-wrapper-with-link title-wrapper--self-padded-mobile title-wrapper--no-top-margin">
    <h2 class="title inline-richtext {{ section.settings.heading_size }}">
      {{ section.settings.title }}
    </h2>
    {%- if section.settings.button_label != blank and show_mobile_slider -%}
      <a href="{{ section.settings.button_link }}" class="link underlined-link large-up-hide">
        {{- section.settings.button_label | escape -}}
      </a>
    {%- endif -%}
  </div>
{%- endunless -%}
<div class="container">

  {% for block in section.blocks %}
    {% if block.settings.enable %}
      <div class="feature">
        <div class="feature-image">
          <img src="{{ block.settings.image | img_url: '600x600' }}" alt="{{ block.settings.name }}">
        </div>
        <div class="feature-content">
          <h3>{{ block.settings.name }}</h3>
          <p>{{ block.settings.description }}</p>
          <button class="learn-more-button">Learn More</button>
        </div>
      </div>
    {% endif %}
  {% endfor %}

</div>

{% schema %}
  {
    "name": "Custom Product Features",
    "settings": [
      {
        "type": "inline_richtext",
        "id": "title",
        "default": "Multicolumn",
        "label": "t:sections.multicolumn.settings.title.label"
      },
      {
        "type": "select",
        "id": "heading_size",
        "options": [
          {
            "value": "h2",
            "label": "t:sections.all.heading_size.options__1.label"
          }, {
            "value": "h1",
            "label": "t:sections.all.heading_size.options__2.label"
          }, {
            "value": "h0",
            "label": "t:sections.all.heading_size.options__3.label"
          }
        ],
        "default": "h1",
        "label": "t:sections.all.heading_size.label"
      },
      {
        "type": "select",
        "id": "image_width",
        "options": [
          {
            "value": "third",
            "label": "t:sections.multicolumn.settings.image_width.options__1.label"
          }, {
            "value": "half",
            "label": "t:sections.multicolumn.settings.image_width.options__2.label"
          }, {
            "value": "full",
            "label": "t:sections.multicolumn.settings.image_width.options__3.label"
          }
        ],
        "default": "full",
        "label": "t:sections.multicolumn.settings.image_width.label"
      },
      {
        "type": "select",
        "id": "image_ratio",
        "options": [
          {
            "value": "adapt",
            "label": "t:sections.multicolumn.settings.image_ratio.options__1.label"
          }, {
            "value": "portrait",
            "label": "t:sections.multicolumn.settings.image_ratio.options__2.label"
          }, {
            "value": "square",
            "label": "t:sections.multicolumn.settings.image_ratio.options__3.label"
          }, {
            "value": "circle",
            "label": "t:sections.multicolumn.settings.image_ratio.options__4.label"
          }
        ],
        "default": "adapt",
        "label": "t:sections.multicolumn.settings.image_ratio.label"
      }, {
        "type": "range",
        "id": "columns_desktop",
        "min": 1,
        "max": 6,
        "step": 1,
        "default": 3,
        "label": "t:sections.multicolumn.settings.columns_desktop.label"
      }, {
        "type": "select",
        "id": "column_alignment",
        "options": [
          {
            "value": "left",
            "label": "t:sections.multicolumn.settings.column_alignment.options__1.label"
          }, {
            "value": "center",
            "label": "t:sections.multicolumn.settings.column_alignment.options__2.label"
          }
        ],
        "default": "left",
        "label": "t:sections.multicolumn.settings.column_alignment.label"
      }, {
        "type": "select",
        "id": "background_style",
        "options": [
          {
            "value": "none",
            "label": "t:sections.multicolumn.settings.background_style.options__1.label"
          }, {
            "value": "primary",
            "label": "t:sections.multicolumn.settings.background_style.options__2.label"
          }
        ],
        "default": "primary",
        "label": "t:sections.multicolumn.settings.background_style.label"
      }, {
        "type": "color_scheme",
        "id": "color_scheme",
        "label": "t:sections.all.colors.label",
        "default": "background-1"
      }, {
        "type": "header",
        "content": "t:sections.multicolumn.settings.header_mobile.content"
      }, {
        "type": "select",
        "id": "columns_mobile",
        "options": [
          {
            "value": "1",
            "label": "t:sections.multicolumn.settings.columns_mobile.options__1.label"
          }, {
            "value": "2",
            "label": "t:sections.multicolumn.settings.columns_mobile.options__2.label"
          }
        ],
        "default": "1",
        "label": "t:sections.multicolumn.settings.columns_mobile.label"
      }, {
        "type": "checkbox",
        "id": "swipe_on_mobile",
        "default": false,
        "label": "t:sections.multicolumn.settings.swipe_on_mobile.label"
      }, {
        "type": "header",
        "content": "t:sections.all.padding.section_padding_heading"
      }, {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "t:sections.all.padding.padding_top",
        "default": 36
      }, {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "t:sections.all.padding.padding_bottom",
        "default": 36
      }
    ],
    "blocks": [
      {
        "type": "feature",
        "name": "Feature",
        "settings": [
          {
            "type": "checkbox",
            "label": "Enable",
            "id": "enable",
            "default": true
          }, {
            "type": "image_picker",
            "label": "Image",
            "id": "image"
          }, {
            "type": "text",
            "label": "Name",
            "id": "name"
          }, {
            "type": "textarea",
            "label": "Brief Description",
            "id": "description"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Custom Section"
      }
    ]
  }
{% endschema %}